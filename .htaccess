<IfModule mod_rewrite.c>
  RewriteEngine On
  RewriteBase /

  # --- 301 Redirect old PHP pages to new URLs ---
  Redirect 301 /contact.php /contact
  Redirect 301 /faq.php /contact
  Redirect 301 /beverages.php /vending
  Redirect 301 /healthy.php /vending
  Redirect 301 /southington.php /
  Redirect 301 /technology.php /
  Redirect 301 /snacks.php /vending
  Redirect 301 /coffee.php /vending
  Redirect 301 /micro-markets.php /micromarket
  Redirect 301 /services.php /about
  # --- End redirects ---

  # --- 410 Gone for permanently removed pages ---
  RewriteRule ^old-page1/?$ - [G,L]
  RewriteRule ^old-page2/?$ - [G,L]
  # Add more permanently deleted pages here as needed

  # --- Serve index.html for valid React routes ---
  # List your React routes here to avoid 404
  RewriteRule ^(index\.html|contact|about|vending|micromarket)/?$ - [L]

  # --- Catch-all: serve index.html for other SPA routes ---
  RewriteCond %{REQUEST_FILENAME} !-f
  RewriteCond %{REQUEST_FILENAME} !-d
  RewriteRule . /index.html [L]

  # --- Custom 404 page ---
  ErrorDocument 404 /404.html
</IfModule>
